<!DOCTYPE html>
<html>
<head>
    <title>Hello World</title>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="jsforce.js"></script>
    <script>
        var con;
        (function initialize() {
             jsforce.browser.init({
                clientId: '3MVG9PE4xB9wtoY8tdKeVSrBMfeVKn0mguBA8Ok0DidWuKdQbp4bVvj.PIWWiPF4mDk7nIhAuZpyW8uyGTTMV',
                redirectUri: 'http://localhost:8080/callback.html',
                proxyUrl: 'https://node-salesforce-proxy.herokuapp.com/proxy/'
             });
             jsforce.browser.on('connect', function(conn){
                con = conn;
             });
        })();
        function getAccounts() {
            con.query('SELECT Name FROM Account', function(err, res) {
                if (err) {
                    return console.error(err);
                }
                console.log(res);
            });
        }
        function getVisitas() {
            var query = 'Name, Bitacora_Lk__c, Check_In_Latitud__c, Check_In_Longitud__c';
            con.query('SELECT ' + query + ' FROM PRV_Visita_Preventa__c', function(err, res) {
                if (err) {
                    return console.error(err);
                }
                console.log(res);
            });
        }
        function getVisitasByWebServices() {
            var body = { 'Username_Usuario_Fx': 'dev2rica@rica.com.mx.parcial02', 'sFecha': '12/06/2017' };
            //con.apex.post('/PRV_Visita_Preventa_post/*', body, function(err, res){
            con.apex.get('/PRV_Visita_Preventa_get/*', body, function(err, res ) {
                if(err) {
                    return console.log(err);
                }
                console.log(res);
            });
        }
        function getRutaClienteByWebServices() {
            var body = { 'lst_RCte_id': [ 'a033D000000EjeYQAS', 'a033D000000FZ9zQAG' ] };
            con.apex.post('/Ruta_de_Cliente_post/*', body, function(err, res) {
                if(err) {
                    return console.log(err);
                }
                console.log(res);
            });
        }
    </script>
</head>

<body>
    <div><button onclick="javascript:jsforce.browser.login();">Login</button></div>
    <div><button onclick="getVisitas();">Nombre cuentas</button></div>
    <div><button onclick="getVisitasByWebServices();">Get Visitas</button></div>
    <div><button onclick="getRutaClienteByWebServices();">Get Ruta Clientes</button></div>
</body>
</html>
